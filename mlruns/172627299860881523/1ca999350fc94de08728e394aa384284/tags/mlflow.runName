K-Nearest Neighbors_pipeline